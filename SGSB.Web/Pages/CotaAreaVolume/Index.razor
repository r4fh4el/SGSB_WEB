@page "/CotaAreaVolume/Index"

@using SGSB.Web.Data
@inject CotaAreaVolumeService CotaAreaVolumeService
@using Model 
@inject NavigationManager NavigationManager
@inject HttpClient http
@using BlazorTable
@using SGSB.Web.Models;

@inject Microsoft.JSInterop.IJSRuntime JSRuntime

@if (CotaAreaVolume == null)
{
    <p><em>Carregando...</em></p>
}
else
{
    <div class="col-md-3">
        <a href="CotaAreaVolume/cadastro" class="btn btn-success h2">Adicionar Novo </a>
    </div>

    <Table style="font-size:14px;" TableItem="CotaAreaVolume" Items="CotaAreaVolume" PageSize="10">
        <Column TableItem="CotaAreaVolume" Title="ID" Field="@(x => x.Id)" Sortable="true" Filterable="true" Width="10%" />
        <Column TableItem="CotaAreaVolume" Title="Cota" Field="@(x => x.Cota)" Sortable="true" Filterable="true" Width="30%" />
        <Column TableItem="CotaAreaVolume" Title="VolumeAcumulado" Field="@(x => x.VolumeAcumulado)" Sortable="true" Filterable="true" Width="30%" />
        <Column TableItem="CotaAreaVolume" Title="AreaSuperficial" Field="@(x => x.AreaSuperficial)" Sortable="true" Filterable="true" Width="30%" />


        <Column TableItem="CotaAreaVolume" Title="Visualizar" Field="@(x => x.Id)" Sortable="true" Filterable="true" Width="10%">
            <Template>

                <a href="CotaAreaVolume/Visualizar/@context.Id" class="btn btn-info h4"> Visualizar</a>
            </Template>
        </Column>
        <Column TableItem="CotaAreaVolume" Title="Editar" Field="@(x => x.Id)" Sortable="true" Filterable="true" Width="10%">
            <Template>

                <a TableItem="CotaAreaVolume" href="CotaAreaVolume/Editar/@context.Id" class="btn btn-warning h4"> Editar</a>
            </Template>
        </Column>
        <Column TableItem="CotaAreaVolume" Title="Excluir" Field="@(x => x.Id)" Sortable="true" Filterable="true" Width="10%">
            <Template>

                <a href="../CotaAreaVolume/Excluir/@context.Id" class="btn btn-danger h4"> Excluir</a>
            </Template>
        </Column>

        <Pager ShowPageNumber="true" ShowTotalCount="true" />
    </Table>

}

@code {

    private List<CotaAreaVolume> CotaAreaVolume;
    //private CotaAreaVolume CotaAreaVolumeModel = new CotaAreaVolume();
    protected override async Task OnInitializedAsync()
    {
        CotaAreaVolume = await CotaAreaVolumeService.GetCotaAreaVolume();
 
    }


    private CotaAreaVolumeModel objCotaAreaVolumeModel = new CotaAreaVolumeModel();


    private async Task ChangeHandler(ChangeEventArgs args)
    {

    }

    protected async Task Editar(int id)
    {
       await CotaAreaVolumeService.EditarCotaAreaVolume(objCotaAreaVolumeModel);

    }
    protected async Task Visualizar(int id)
    {
        Entidades.Entidades.CotaAreaVolume cotaAreaVolume = new Entidades.Entidades.CotaAreaVolume()
            {
                AreaSuperficial = objCotaAreaVolumeModel.AreaSuperficial,
                Cota = objCotaAreaVolumeModel.Cota,
                BarragemId = objCotaAreaVolumeModel.BarragemId,
                Id = objCotaAreaVolumeModel.Id,
                VolumeAcumulado = objCotaAreaVolumeModel.VolumeAcumulado,


            };
         
    }

  
    void Cancel()
    {
        NavigationManager.NavigateTo("CotaAreaVolume/index");
    }

}
