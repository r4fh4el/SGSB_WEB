<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:maps="clr-namespace:Microsoft.Maui.Controls.Maps;assembly=Microsoft.Maui.Controls.Maps"
             xmlns:loc="clr-namespace:Microsoft.Maui.Devices.Sensors;assembly=Microsoft.Maui.Essentials"
             x:Class="SGSB.SIG.APP.Zona" BackgroundColor="BlueViolet">

    <StackLayout>
        <!-- Wizard Step 1 -->
        <Frame HasShadow="True" Margin="20" Padding="20" CornerRadius="15" IsVisible="True" x:Name="Step1Frame">
            <StackLayout>
                <Label Text="Passo 1: Zona" FontSize="24" TextColor="#3498db" Margin="0,20,0,0" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" />
                <Entry x:Name="idZonaNome" Margin="0,0,0,0" Placeholder="Escreva aqui o nome da zona" HorizontalOptions="FillAndExpand" VerticalOptions="StartAndExpand" />
                <Button Text="Próximo" BackgroundColor="DarkViolet" TextColor="White" FontSize="20" CornerRadius="8" Margin="0,20,0,0" Clicked="OnNextStepClicked" HorizontalOptions="FillAndExpand" />
            </StackLayout>
        </Frame>

        <!-- Wizard Step 2 -->
        <Frame HasShadow="True" Margin="20" Padding="20" CornerRadius="15" IsVisible="False" x:Name="Step2Frame">
            <StackLayout>
                <Label Text="Passo 2: Questionário" FontSize="24" TextColor="#3498db" Margin="0,20,0,0" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" />
                <!-- Add additional fields for step 2 here -->
                <!--<StackLayout Margin="20">-->


                <!-- Entrada para Nome do Cidadão -->
                <Entry x:Name="txtNomeCidadao" 
                   Placeholder="Nome Completo"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand" />

                <!-- Entrada para Data de Nascimento -->
                <DatePicker x:Name="dpDataNascimento"
                        Format="dd/MM/yyyy"
                        HorizontalOptions="FillAndExpand"
                        VerticalOptions="StartAndExpand" />

                <!-- Entrada para Endereço -->
                <Entry x:Name="txtEndereco" 
                   Placeholder="Endereço"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand" />

                <!-- Entrada para CPF com Máscara -->
                <Entry x:Name="txtCPF"
                   Placeholder="CPF"
                   Keyboard="Numeric"
                   MaxLength="14"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand">

                </Entry>

                <!-- Entrada para Número de Pessoas -->
                <Entry x:Name="txtNumeroPessoas"
                   Placeholder="Número de Pessoas na Casa"
                   Keyboard="Numeric"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand" />

                <!-- Entrada para Renda Mensal -->
                <Entry x:Name="txtRenda"
                   Placeholder="Renda Mensal"
                   Keyboard="Numeric"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand" />

                <!-- Seletor de Área -->
                <Picker x:Name="seletorArea"
                    Title="Selecione a Área"
                    HorizontalOptions="FillAndExpand"
                    VerticalOptions="StartAndExpand">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Urbana</x:String>
                            <x:String>Rural</x:String>
                            <!-- Adicione mais opções conforme necessário -->
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>

                <!-- Entrada para Número de Telefone com Máscara -->
                <Entry x:Name="txtNumeroTelefone"
                   Placeholder="Número de Telefone"
                   Keyboard="Telephone"
                   MaxLength="14"
                   HorizontalOptions="FillAndExpand"
                   VerticalOptions="StartAndExpand">

                </Entry>
                <!-- Campo de Observação -->

                <Editor x:Name="txtObservacao" 
                    Placeholder="Observação"
                    HorizontalOptions="FillAndExpand"
                    VerticalOptions="StartAndExpand"
                    HeightRequest="100" />

                <!-- Botão de Envio -->
                <!--<Button Text="Enviar"
                    BackgroundColor="#3498db"
                    TextColor="White"
                    FontSize="20"
                    CornerRadius="8"
                    Margin="0,20,0,0"
   
                    HorizontalOptions="FillAndExpand" />-->
                <Button Text="Próximo" BackgroundColor="DarkViolet" TextColor="White" FontSize="20" CornerRadius="8" Margin="0,20,0,0" Clicked="OnNextStep2Clicked" HorizontalOptions="FillAndExpand" />
                <Button Text="Anterior" BackgroundColor="DarkGray" TextColor="White" FontSize="20" CornerRadius="8" Margin="0,10,0,0" Clicked="OnPreviousStepClicked" HorizontalOptions="FillAndExpand" />
            </StackLayout>
        </Frame>

        <!-- Wizard Step 3 -->
        <Frame HasShadow="True" Margin="20" Padding="20" CornerRadius="15" IsVisible="False" x:Name="Step3Frame">
            <StackLayout>
                <Label Text="Passo 3: Desenhar a zona" FontSize="24" TextColor="#3498db" Margin="0,20,0,0" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" />

                <!-- Adicionando o controle de mapa -->
                <maps:Map x:Name="mappy"
            IsShowingUser="True"
            IsTrafficEnabled="True"
            MapType="Hybrid"
            HorizontalOptions="FillAndExpand"
            VerticalOptions="FillAndExpand"              HeightRequest="400" />

                <Button Text="Limpar Mapa"
          BackgroundColor="#e74c3c"
          TextColor="White"
          FontSize="20"
          CornerRadius="8"
          Margin="2"
          Clicked="OnCloseMapClicked" />

                <!-- Open Map Button -->
                <!--<Button Text="Abrir Mapa" 
        BackgroundColor="DarkViolet"
        TextColor="White"
        FontSize="20"
        CornerRadius="8"
        Margin="0,20,0,0"
        Clicked="OnOpenMapClicked"
        HorizontalOptions="FillAndExpand" />-->

                <!-- Add map-related fields for step 3 here -->
                <Button Text="Salvar" BackgroundColor="DarkGreen" TextColor="White" FontSize="20" CornerRadius="8" Margin="0,2,0,0" Clicked="OnFinishClicked" HorizontalOptions="FillAndExpand" />
                <Button Text="Anterior" BackgroundColor="DarkGray" TextColor="White" FontSize="20" CornerRadius="8" Margin="0,2,0,0" Clicked="OnPreviousStep3Clicked" HorizontalOptions="FillAndExpand" />
            </StackLayout>
        </Frame>
    </StackLayout>
</ContentPage>